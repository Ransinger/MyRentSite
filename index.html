<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ממוצע שכר דירה בתל אביב</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
    <style>
        body {
            direction: rtl; /* כיוון טקסט מימין לשמאל */
        }
        table {
            direction: rtl; /* כיוון טקסט מימין לשמאל בטבלה */
        }
        th, td {
            text-align: right; /* יישור טקסט לימין */
        }
    </style>
</head>
<body>
    <header>
        <div class="logo-container">
            <h1 class="header-title" data-lang="title">ממוצע שכר דירה בתל אביב </h1>
        </div>
        <div class="language-selector">
            <button data-lang="he">עברית</button>
            <button data-lang="en">English</button>
        </div>
    </header>

    <main class="content-container">
        </main>

    <script>
        // ... (קוד Leaflet)

        // ... (פונקציות fetchRentData ו-loadTable)

        // בחירת שפה
        const langButtons = document.querySelectorAll('.language-selector button');
        langButtons.forEach(button => {
            button.addEventListener('click', () => {
                const lang = button.dataset.lang;
                translateText(lang);
            });
        });

        // פונקציה לתרגום טקסט
        function translateText(lang) {
            const elements = document.querySelectorAll('[data-lang]');
            const translations = {
                he: {
                    title: 'ממוצע שכר דירה בתל אביב ',
                    roomsLabel: 'סנן לפי מספר חדרים',
                    all: 'הכל',
                    '1room': '1 חדר',
                    '2rooms': '2 חדרים',
                    '3rooms': '3 חדרים',
                    '4rooms': '4+ חדרים',
                    streetLabel: 'חפש רחוב בתל אביב',
                    neighborhood: 'שכונה',
                    rooms: 'מספר חדרים',
                    price: 'ממוצע שכר דירה (₪)'
                },
                en: {
                    title: 'Average rent in Tel Aviv ',
                    roomsLabel: 'Filter by number of rooms',
                    all: 'All',
                    '1room': '1 room',
                    '2rooms': '2 rooms',
                    '3rooms': '3 rooms',
                    '4rooms': '4+ rooms',
                    streetLabel: 'Search for a street in Tel Aviv',
                    neighborhood: 'Neighborhood',
                    rooms: 'Number of rooms',
                    price: 'Average rent (₪)'
                }
            };
            elements.forEach(element => {
                const key = element.dataset.lang;
                if (translations[lang] && translations[lang][key]) {
                    element.textContent = translations[lang][key];
                }
            });
        }

        // ... (קריאות לפונקציות)
    </script>
</body>
</html>
